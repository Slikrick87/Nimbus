@using Nimbus.Shared.Services;
@using Nimbus.Shared.Entities;
@inject ITruckRepository TruckRepository;
@page "/addTruck"

<PageTitle>AddTruck</PageTitle>

<h3>Add Truck</h3>

<div class="d-flex">
    <form method="post">
        <div>
            <label for="mileage">Mileage:</label>
            <input type="number" name="mileage" @bind="mileage" />
            <br/>
            @* <label for="nickName">Nickname:</label>
            <input type="text" name="nickName" @bind="nickName" />
            <br /> *@
        </div>
    </form>
</div>
@* <p role="presentation">Truck Added: ID: @TruckId Mileage: @TruckMileage </p> *@

<button color="Primary Color" class="btn btn-primary" @onclick="AddNewTruck">Confirm</button>
@code {
    public int mileage;
    public string nickName;
    public TruckEntity truck;
    public int TruckId = 0;
    public int TruckMileage = 0;
    public void AddNewTruck()
    {
        truck = TruckRepository.CreateNewTruck(mileage,0 ,0 ,0 ,0, 0);
        TruckRepository.AddTruck(truck);
    
    }
    // public async void GetTruckAddedAsync()
    // {
            //Needs revisited not essential atm

    //     TruckId = truck.id;
    //     TruckMileage = truck.mileage;
    // }
}
